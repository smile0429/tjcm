webpackJsonp([3],{"/rok":function(t,a,e){"use strict";(function(t){var s=e("pyyD"),i=e("Wpj1"),n=e("T452"),r=e("NNy8"),o=e("cqfE"),l=e("ERCc"),d=e("mTFB"),c=e("ppTa");a.a={data:()=>({list:"",City:Object(r.a)("city").items,name:"",putCity:"",parentParams:"",parentRecords:"",total:1,pageSize:10,current:1,loading:!0}),name:"endList",components:{myAdd:o.a,myDetail:d.a,myLoading:l.a,myTitle:s.a,"v-pagination":c.a},created:function(){this.parentParams={},this.parentRecords={},this._getEndlist()},filters:{cityName:function(t){return null===t?"_":Object(r.c)("city",t)},stateName:function(t){return Object(r.c)("state",t)},orgaName:function(t){return null===t?"_":t}},methods:{_getEndlist:function(t){let a={page:""==t||void 0==t?1:t,pagesize:this.pageSize,name:this.name,city:this.putCity};this.loading=!0,this.list=[],Object(i.f)(a).then(t=>{this.loading=!1,t.repCode==n.b&&(this.list=t.datas,this.total=t.totalCount)})},addEnd:function(a){t("#addOrEditModal").show(),t("#addOrEditModal").modal(),this.parentParams=a},playRecord:function(a){t("#playRecordModal").show(),t("#playRecordModal").modal(),this.parentRecords=a},onRefresList(){this._getEndlist()},pagechange:function(t){this._getEndlist(t)},search:function(){this._getEndlist()}}}}).call(a,e("L7Pj"))},"4BQm":function(t,a,e){var s=e("kpyz");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("5ten")("9d5afe52",s,!0,{})},"4v9v":function(t,a,e){var s=e("6FQR");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("5ten")("330546af",s,!0,{})},"5SGc":function(t,a,e){var s=e("a5ot");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("5ten")("12ae7528",s,!0,{})},"6FQR":function(t,a,e){(t.exports=e("I71c")(!0)).push([t.i,"\n.testClass{\n\tfloat:right;\n}\n","",{version:3,sources:["D:/workspace/project/vue-test/vue-test/src/components/end/playRecord.vue"],names:[],mappings:";AACA;CACC,YAAY;CACZ",file:"playRecord.vue",sourcesContent:["\n.testClass{\n\tfloat:right;\n}\n"],sourceRoot:""}])},RRBm:function(t,a,e){var s=e("oGf7");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("5ten")("4605b144",s,!0,{})},a5ot:function(t,a,e){(t.exports=e("I71c")(!0)).push([t.i,"\n#addOrEditModal[data-v-0ab171fe] {\n\tdisplay: none;\n}\n","",{version:3,sources:["D:/workspace/project/vue-test/vue-test/src/components/end/add.vue"],names:[],mappings:";AACA;CACC,cAAc;CACd",file:"add.vue",sourcesContent:["\n#addOrEditModal[data-v-0ab171fe] {\n\tdisplay: none;\n}\n"],sourceRoot:""}])},akW7:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("/rok"),i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"endList"}},[e("my-title"),t._v(" "),e("div",{staticClass:"underContent"},[e("button",{staticClass:"btn red add_btn",attrs:{type:"button"},on:{click:t.addEnd}},[t._v("添加终端")]),t._v(" "),e("div",[e("table",{attrs:{id:"searchTable"}},[e("tr",[e("td",[t._v("\n\t\t\t\t\t\t终端名称 \n\t\t\t\t\t")]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-td",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}}),t._v("    \n\t\t\t\t\t")]),t._v(" "),e("td",[t._v("\n\t\t\t\t\t\t所在城市 \n\t\t\t\t\t")]),t._v(" "),e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.putCity,expression:"putCity"}],staticClass:"chosen-with-diselect input-td",attrs:{tabindex:"-1"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.putCity=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._v(" "),t._l(t.City,function(a){return e("option",{domProps:{value:a.dic_item_value}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.dic_item_name)+"\n\t\t\t\t\t\t\t")])})],2),t._v("\n\t\t\t\t\t\t   \n\t\t\t\t\t")]),t._v(" "),e("td",[e("a",{staticClass:"btn blue",attrs:{href:"javascript:void(0)"},on:{click:t.search}},[e("i",{staticClass:"icon-search"}),t._v("搜索")])])])])]),t._v(" "),e("table",{staticClass:"table table-striped table-bordered table-hover",attrs:{id:"endListTable"}},[t._m(0),t._v(" "),e("tfoot",[e("tr",[e("td",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],attrs:{colspan:"11"}},[e("v-pagination",{attrs:{total:t.total,pageSize:t.pageSize,"current-page":t.current},on:{pagechange:t.pagechange}})],1),t._v(" "),e("td",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{colspan:"11"}},[e("my-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)])]),t._v(" "),e("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._l(t.list,function(a,s){return e("tr",{staticClass:"odd gradeX"},[e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",[t._v(t._s(t._f("cityName")(a.city)))]),t._v(" "),e("td",[t._v(t._s(t._f("orgaName")(a.organization_name)))]),t._v(" "),e("td",[t._v(t._s(a.mac_address))]),t._v(" "),e("td",[t._v(t._s(t._f("stateName")(a.state)))]),t._v(" "),e("td",[t._v(t._s(a.user_name))]),t._v(" "),e("td",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addEnd(a)}}},[t._v("修改 |")]),t._v(" "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.playRecord(a.terminal_id)}}},[t._v("查看播放记录")])])])}),t._v(" "),0==t.list.length?e("tr",[t._m(1)]):t._e()],2)])]),t._v(" "),e("my-add",{attrs:{params:t.parentParams},on:{refreshList:t.onRefresList}}),t._v(" "),e("my-detail",{attrs:{playRecords:t.parentRecords}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"hidden-480"},[t._v("终端名称")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("所在城市")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("所属机构")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("Mac地址")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("是否可用")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("添加者")]),t._v(" "),e("th",{staticClass:"hidden-480"},[t._v("操作")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{attrs:{colspan:"8"}},[a("h4",[this._v("\n\t\t\t\t\t\t\t没有符合条件的数据!\n\t\t\t\t\t\t")])])}]};var n=function(t){e("RRBm")},r=e("X4nt")(s.a,i,!1,n,"data-v-52eb1d79",null);a.default=r.exports},cqfE:function(t,a,e){"use strict";var s=e("tY+K"),i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade bs-example-modal-lg",attrs:{tabindex:"-1",role:"dialog",id:"addOrEditModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row-fluid"},[e("div",{staticClass:"span12"},[e("div",{staticClass:"portlet box "},[e("div",{staticClass:"portlet-body form"},[e("form",{staticClass:"form-horizontal",attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"control-group"},[t._m(1),t._v(" "),e("div",{staticClass:"controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.name,expression:"params.name"}],staticClass:"span10 m-wrap",attrs:{type:"text"},domProps:{value:t.params.name},on:{input:function(a){a.target.composing||t.$set(t.params,"name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"control-group"},[t._m(2),t._v(" "),e("div",{staticClass:"controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.params.city,expression:"params.city"}],staticClass:"chosen-with-diselect span10",attrs:{tabindex:"-1"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.params,"city",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择城市")]),t._v(" "),t._l(t.city.items,function(a){return e("option",{domProps:{value:a.dic_item_value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.dic_item_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})],2)])]),t._v(" "),e("div",{staticClass:"control-group"},[t._m(3),t._v(" "),e("div",{staticClass:"controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.organization_name,expression:"params.organization_name"}],staticClass:"span10 m-wrap",attrs:{type:"text"},domProps:{value:t.params.organization_name},on:{input:function(a){a.target.composing||t.$set(t.params,"organization_name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"control-group"},[t._m(4),t._v(" "),e("div",{staticClass:"controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.mac_address,expression:"params.mac_address"}],staticClass:"span10 m-wrap",attrs:{type:"text"},domProps:{value:t.params.mac_address},on:{input:function(a){a.target.composing||t.$set(t.params,"mac_address",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"control-group"},[e("label",{staticClass:"control-label"},[t._v("Ip地址")]),t._v(" "),e("div",{staticClass:"controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.ip_address,expression:"params.ip_address"}],staticClass:"span10 m-wrap",attrs:{type:"text"},domProps:{value:t.params.ip_address},on:{input:function(a){a.target.composing||t.$set(t.params,"ip_address",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"control-group"},[t._m(5),t._v(" "),e("div",{staticClass:"controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.params.state,expression:"params.state"}],staticClass:"chosen-with-diselect span10",attrs:{tabindex:"-1"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.params,"state",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择状态")]),t._v(" "),t._l(t.state.items,function(a){return e("option",{domProps:{value:a.dic_item_value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.dic_item_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})],2)])])])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.sureAdd}},[t._v("确定")]),t._v(" "),e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}}),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("操作终端")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",{staticClass:"control-label"},[this._v("终端名称 "),a("span",{staticClass:"redPoint"},[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",{staticClass:"control-label"},[this._v("所在城市 "),a("span",{staticClass:"redPoint"},[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",{staticClass:"control-label"},[this._v("所在机构 "),a("span",{staticClass:"redPoint"},[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",{staticClass:"control-label"},[this._v("Mac地址 "),a("span",{staticClass:"redPoint"},[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",{staticClass:"control-label"},[this._v("状态 "),a("span",{staticClass:"redPoint"},[this._v("*")])])}]};var n=function(t){e("5SGc")},r=e("X4nt")(s.a,i,!1,n,"data-v-0ab171fe",null);a.a=r.exports},kpyz:function(t,a,e){(t.exports=e("I71c")(!0)).push([t.i,"\n#playRecordModal[data-v-0639aa09]{\n\tdisplay: none;\n\twidth: 80%;\n\tleft:30%;\n}\n#playRecordTable tr th[data-v-0639aa09], #playRecordTable tr td[data-v-0639aa09]{\n\ttext-align: center;\n\tvertical-align: middle;\n}\n.show-img[data-v-0639aa09]{\n\twidth: 50px;\n\theight: 50px;\n}\n","",{version:3,sources:["D:/workspace/project/vue-test/vue-test/src/components/end/playRecord.vue"],names:[],mappings:";AACA;CACC,cAAc;CACd,WAAW;CACX,SAAS;CACT;AACD;CACC,mBAAmB;CACnB,uBAAuB;CACvB;AACD;CACC,YAAY;CACZ,aAAa;CACb",file:"playRecord.vue",sourcesContent:["\n#playRecordModal[data-v-0639aa09]{\n\tdisplay: none;\n\twidth: 80%;\n\tleft:30%;\n}\n#playRecordTable tr th[data-v-0639aa09], #playRecordTable tr td[data-v-0639aa09]{\n\ttext-align: center;\n\tvertical-align: middle;\n}\n.show-img[data-v-0639aa09]{\n\twidth: 50px;\n\theight: 50px;\n}\n"],sourceRoot:""}])},mTFB:function(t,a,e){"use strict";var s=e("T452"),i=e("Wpj1"),n=e("ERCc"),r=e("ppTa"),o=e("NNy8"),l={props:["playRecords"],data:function(){return{imgPort:s.a.ResourceHost,code:"",playList:[],total:1,pageSize:10,current:1,loading:!0}},filters:{putTypeName:function(t){return Object(o.c)("putin_type",t)}},components:{myLoading:n.a,"v-pagination":r.a},watch:{playRecords:function(t,a){console.log(this.current),this._getPlayList(this.current)}},name:"playRecordModal",methods:{_getPlayList(t){var a={page:""==t||void 0==t?1:t,pagesize:this.pageSize,terminal_id:this.playRecords};this.loading=!0,this.playList=[],Object(i.g)(a).then(t=>{this.loading=!1,t.repCode==s.b?(this.playList=t.datas,this.total=t.totalCount,this.current=t.currentPage,this.code=s.b):this.code=t.repCode})},pagechange(t){this._getPlayList(t)}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade bs-example-modal-lg",attrs:{tabindex:"-1",role:"dialog",id:"playRecordModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table table-striped table-bordered table-hover",attrs:{id:"playRecordTable"}},[t._m(1),t._v(" "),e("tfoot",[e("tr",[0==t.playList.length||t.loading?t._e():e("td",{attrs:{colspan:"4"}},[e("v-pagination",{attrs:{total:t.total,pageSize:t.pageSize,"current-page":t.current},on:{pagechange:t.pagechange}})],1),t._v(" "),e("td",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{colspan:"4"}},[e("my-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)])]),t._v(" "),e("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._l(t.playList,function(a,s){return e("tr",{staticClass:"odd gradeX"},[e("td",[t._v(t._s(null==a.putin_info?"数据异常":a.putin_info.putin_name))]),t._v(" "),e("td",[t._v(t._s(a.begin_time)+"到"+t._s(a.end_time))]),t._v(" "),e("td",[t._v(t._s(t._f("putTypeName")(null==a.putin_info?"数据异常":a.putin_info.putin_type)))]),t._v(" "),e("td",[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgPort+a.material_url,expression:"imgPort+listitems.material_url"}],staticClass:"show-img"})])])}),t._v(" "),0==t.playList.length?e("tr",["0000"==this.code?e("td",{attrs:{colspan:"4"}},[e("h3",[t._v("暂无播放记录！")])]):t._e(),t._v(" "),"0000"!=this.code?e("td",{attrs:{colspan:"4"}},[e("h4",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t接口有错误，请检验接口\n\t\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e()],2)])]),t._v(" "),t._m(2)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}}),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("播放记录详情")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"hidden-480"},[this._v("投放名称")]),this._v(" "),a("th",{staticClass:"hidden-480"},[this._v("播放开始-结束时间")]),this._v(" "),a("th",{staticClass:"hidden-480"},[this._v("投放类型")]),this._v(" "),a("th",{staticClass:"hidden-480"},[this._v("播放图片")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])}]};var c=e("X4nt")(l,d,!1,function(t){e("4v9v"),e("4BQm")},"data-v-0639aa09",null);a.a=c.exports},oGf7:function(t,a,e){(t.exports=e("I71c")(!0)).push([t.i,"\n.input-td[data-v-52eb1d79] {\n\tmargin-top: 10px;\n}\n#endListTable tr th[data-v-52eb1d79], #endListTable tr td[data-v-52eb1d79]{\n\ttext-align: center;\n}\n#endListTable[data-v-52eb1d79]{\n\twidth:98%;\n\tmargin:0px auto;\n}\n.add_btn[data-v-52eb1d79]{\n\tmargin-left: 1%;\n\tmargin-bottom: 1% !important;\n}\n#searchTable[data-v-52eb1d79]{\n\tmargin-left: 1%;\n}\n","",{version:3,sources:["D:/workspace/project/vue-test/vue-test/src/components/end/list.vue"],names:[],mappings:";AACA;CACC,iBAAiB;CACjB;AACD;CACC,mBAAmB;CACnB;AACD;CACC,UAAU;CACV,gBAAgB;CAChB;AACD;CACC,gBAAgB;CAChB,6BAA6B;CAC7B;AACD;CACC,gBAAgB;CAChB",file:"list.vue",sourcesContent:["\n.input-td[data-v-52eb1d79] {\n\tmargin-top: 10px;\n}\n#endListTable tr th[data-v-52eb1d79], #endListTable tr td[data-v-52eb1d79]{\n\ttext-align: center;\n}\n#endListTable[data-v-52eb1d79]{\n\twidth:98%;\n\tmargin:0px auto;\n}\n.add_btn[data-v-52eb1d79]{\n\tmargin-left: 1%;\n\tmargin-bottom: 1% !important;\n}\n#searchTable[data-v-52eb1d79]{\n\tmargin-left: 1%;\n}\n"],sourceRoot:""}])},"tY+K":function(t,a,e){"use strict";(function(t){var s=e("uAC3"),i=e.n(s),n=e("NNy8"),r=e("Wpj1"),o=e("T452");a.a={props:["params"],data:()=>({city:Object(n.a)("city"),state:Object(n.a)("state")}),name:"addOrEditModal",methods:{sureAdd:function(){if(""===this.params.name||void 0==this.params.name)return jeBox.msg("请输入终端名称",{time:1}),!1;if(""===this.params.city||void 0==this.params.city)return jeBox.msg("请选择所在的城市",{time:1}),!1;if(""===this.params.organization_name||void 0==this.params.organization_name)return jeBox.msg("请输入所在机构名称",{time:1}),!1;if(""===this.params.mac_address||void 0==this.params.mac_address)return jeBox.msg("请输入终端Mac地址",{time:1}),!1;let t={add_user_id:JSON.parse(i.a.get("user_id")),city:this.params.city,ip_address:this.params.ip_address,mac_address:this.params.mac_address,name:this.params.name,organization_name:this.params.organization_name,state:this.params.state};""==this.params.terminal_id||void 0==this.params.terminal_id||null==this.params.terminal_id?this._addAppList(t):(t.terminal_id=this.params.terminal_id,this._editeAppList(t))},_addAppList(a){var e=jeBox.loading(1,"请稍等");Object(r.a)(a).then(a=>{jeBox.close(e),a.repCode==o.b?(jeBox.msg("操作成功",{time:1}),this.$emit("refreshList"),t("#addOrEditModal").modal("hide")):jeBox.msg(a.errorMsg,{time:1})})},_editeAppList(a){var e=jeBox.loading(1,"请稍等");Object(r.c)(a).then(a=>{jeBox.close(e),a.repCode==o.b?(jeBox.msg("操作成功",{time:1}),this.$emit("refreshList"),t("#addOrEditModal").modal("hide")):jeBox.msg(a.errorMsg,{time:1})})}}}}).call(a,e("L7Pj"))}});
//# sourceMappingURL=3.0190cc1388d39baee41e.js.map